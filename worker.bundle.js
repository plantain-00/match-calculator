/*! For license information please see worker.bundle.js.LICENSE.txt */
!function(){"use strict";var n={957:function(n,t,e){var r=e(655),o=!1;function i(n,t){return r.__awaiter(this,void 0,void 0,(function(){var e,i,u,a,c,f,s,l,p,h;return r.__generator(this,(function(y){switch(y.label){case 0:e=n.matches.reduce((function(n,t){return n*t.possibilities.length}),1),i=Date.now(),u=function(u){var a,c,f,s,l,p,h,y,d,v,b,_;return r.__generator(this,(function(m){switch(m.label){case 0:return o?u%1e5!=0?[3,2]:[4,new Promise((function(n){return setTimeout(n,0)}))]:[2,{value:void 0}];case 1:m.sent(),u>0?(a=function(n){var t=Math.round(Math.abs(n)/1e3);if(t<45)return"in a few seconds";var e=Math.round(t/60);if(e<=1)return"in 1 minute";if(e<60)return"in "+e+" minutes";var r=Math.round(e/60);if(r<=1)return"in 1 hour";if(r<24)return"in "+r+" hours";var o=Math.round(r/24);if(o<=1)return"in 1 day";if(o<30)return"in "+o+" days";var i=Math.round(o/30);if(i<=1)return"in 1 month";if(i<12)return"in "+i+" months";var u=Math.round(o/365);return u<=1?"in 1 year":"in "+u+" years"}((Date.now()-i)*e/u),c={type:"progress",progress:u+" / "+e+", will be done "+a},postMessage(c,void 0)):(c={type:"progress",progress:u+" / "+e},postMessage(c,void 0)),m.label=2;case 2:f=n.teams.map((function(n){return{name:n,score:0}})),s=u,l=function(n){var t=n.possibilities[s%n.possibilities.length];0!==t.a&&(f.find((function(t){return t.name===n.a})).score+=t.a),0!==t.b&&(f.find((function(t){return t.name===n.b})).score+=t.b),s=Math.round(s/n.possibilities.length)};try{for(b=void 0,p=r.__values(n.matches),h=p.next();!h.done;h=p.next())y=h.value,l(y)}catch(n){b={error:n}}finally{try{h&&!h.done&&(_=p.return)&&_.call(p)}finally{if(b)throw b.error}}for(f.sort((function(n,t){return t.score-n.score})),d=function(e){for(var r=n.tops[e],o=f[r-1].score,i=f.findIndex((function(n){return n.score===o})),u=f.filter((function(n){return n.score===o})).length,a=function(n){if(f[n].score===o)t.find((function(t){return t.name===f[n].name})).chances[e]+=(r-i)/u;else{if(!(n<r))return"break";t.find((function(t){return t.name===f[n].name})).chances[e]++}},c=0;c<f.length&&"break"!==a(c);c++);},v=0;v<n.tops.length;v++)d(v);return[2]}}))},a=0,y.label=1;case 1:return a<e?[5,u(a)]:[3,4];case 2:if("object"==typeof(c=y.sent()))return[2,c.value];y.label=3;case 3:return a++,[3,1];case 4:try{for(f=r.__values(t),s=f.next();!s.done;s=f.next())(l=s.value).chances=l.chances.map((function(n){return Math.round(100*n/e)}))}catch(n){p={error:n}}finally{try{s&&!s.done&&(h=f.return)&&h.call(f)}finally{if(p)throw p.error}}return t.sort((function(n,t){for(var e=0;e<n.chances.length;e++){if(t.chances[e]>n.chances[e])return 1;if(t.chances[e]<n.chances[e])return-1}return t.score>n.score?1:t.score<n.score?-1:t.matchCountLeft-n.matchCountLeft})),[2]}}))}))}onmessage=function(n){return r.__awaiter(void 0,void 0,void 0,(function(){var t,e,u,a,c,f,s,l,p;return r.__generator(this,(function(h){switch(h.label){case 0:o=!o,t=n.data,e=[],u=function(n){var t=n.teams.map((function(t){return{name:t,chances:n.tops.map((function(){return 0})),score:0,matchCountLeft:0}}));!function(n,t){var e,o,i=function(n){if(1===n.possibilities.length){var e=n.possibilities[0];0!==e.a&&(t.find((function(t){return t.name===n.a})).score+=e.a),0!==e.b&&(t.find((function(t){return t.name===n.b})).score+=e.b)}else if(n.possibilities.length>1){var r=t.find((function(t){return t.name===n.a}));r.matchCountLeft++,r.score+=n.possibilities.reduce((function(n,t){return Math.min(t.a,n)}),1/0);var o=t.find((function(t){return t.name===n.b}));o.matchCountLeft++,o.score+=n.possibilities.reduce((function(n,t){return Math.min(t.b,n)}),1/0)}};try{for(var u=r.__values(n.matches),a=u.next();!a.done;a=u.next())i(a.value)}catch(n){e={error:n}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}t.sort((function(n,t){return t.score>n.score?1:t.score<n.score?-1:t.matchCountLeft-n.matchCountLeft}))}(n,t),e.push({tops:n.tops,chances:t})};try{for(a=r.__values(t),c=a.next();!c.done;c=a.next())f=c.value,u(f)}catch(n){l={error:n}}finally{try{c&&!c.done&&(p=a.return)&&p.call(a)}finally{if(l)throw l.error}}postMessage({type:"initial-result",result:e},void 0),s=0,h.label=1;case 1:return s<t.length?[4,i(t[s],e[s].chances)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return postMessage({type:"final-result",result:e},void 0),o=!1,[2]}}))}))}},655:function(n,t,e){e.r(t),e.d(t,{__extends:function(){return o},__assign:function(){return i},__rest:function(){return u},__decorate:function(){return a},__param:function(){return c},__metadata:function(){return f},__awaiter:function(){return s},__generator:function(){return l},__createBinding:function(){return p},__exportStar:function(){return h},__values:function(){return y},__read:function(){return d},__spread:function(){return v},__spreadArrays:function(){return b},__spreadArray:function(){return _},__await:function(){return m},__asyncGenerator:function(){return w},__asyncDelegator:function(){return g},__asyncValues:function(){return O},__makeTemplateObject:function(){return x},__importStar:function(){return P},__importDefault:function(){return S},__classPrivateFieldGet:function(){return M},__classPrivateFieldSet:function(){return T}});var r=function(n,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})(n,t)};function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var i=function(){return(i=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function u(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e}function a(n,t,e,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(u=(i<3?o(u):i>3?o(t,e,u):o(t,e))||u);return i>3&&u&&Object.defineProperty(t,e,u),u}function c(n,t){return function(e,r){t(e,r,n)}}function f(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}function s(n,t,e,r){return new(e||(e=Promise))((function(o,i){function u(n){try{c(r.next(n))}catch(n){i(n)}}function a(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(u,a)}c((r=r.apply(n,t||[])).next())}))}function l(n,t){var e,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(n,u)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var p=Object.create?function(n,t,e,r){void 0===r&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){void 0===r&&(r=e),n[r]=t[e]};function h(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||p(t,n,e)}function y(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function v(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(d(arguments[t]));return n}function b(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),o=0;for(t=0;t<e;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r}function _(n,t){for(var e=0,r=t.length,o=n.length;e<r;e++,o++)n[o]=t[e];return n}function m(n){return this instanceof m?(this.v=n,this):new m(n)}function w(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(n,t||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(n){o[n]&&(r[n]=function(t){return new Promise((function(e,r){i.push([n,t,e,r])>1||a(n,t)}))})}function a(n,t){try{(e=o[n](t)).value instanceof m?Promise.resolve(e.value.v).then(c,f):s(i[0][2],e)}catch(n){s(i[0][3],n)}var e}function c(n){a("next",n)}function f(n){a("throw",n)}function s(n,t){n(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function g(n){var t,e;return t={},r("next"),r("throw",(function(n){throw n})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=n[r]?function(t){return(e=!e)?{value:m(n[r](t)),done:"return"===r}:o?o(t):t}:o}}function O(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=y(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise((function(r,o){!function(n,t,e,r){Promise.resolve(r).then((function(t){n({value:t,done:e})}),t)}(r,o,(t=n[e](t)).done,t.value)}))}}}function x(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var j=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t};function P(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)"default"!==e&&Object.prototype.hasOwnProperty.call(n,e)&&p(t,n,e);return j(t,n),t}function S(n){return n&&n.__esModule?n:{default:n}}function M(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)}function T(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e}}},t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return n[r](o,o.exports,e),o.exports}e.d=function(n,t){for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e(957)}();