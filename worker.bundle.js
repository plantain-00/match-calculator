!function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,r){"use strict";function t(n,e){for(var r=n.matches.reduce(function(n,e){return n*e.possibilities.length},1),t=Date.now(),o=0;o<r;o++)!function(o){if(o%1e5==0)if(o>0){var a=i((Date.now()-t)*r/o);console.log(o+" / "+r+", will be done "+a)}else console.log(o+" / "+r);for(var c=n.teams.map(function(n){return{name:n,score:0}}),s=o,u=0,f=n.matches;u<f.length;u++){var h=f[u];!function(n){var e=n.possibilities[s%n.possibilities.length];0!==e.a&&(c.find(function(e){return e.name===n.a}).score+=e.a),0!==e.b&&(c.find(function(e){return e.name===n.b}).score+=e.b),s=Math.round(s/n.possibilities.length)}(h)}c.sort(function(n,e){return e.score-n.score});for(var l=0;l<n.tops.length;l++)!function(r){for(var t=n.tops[r],o=c[t-1].score,i=c.findIndex(function(n){return n.score===o}),a=c.filter(function(n){return n.score===o}).length,s=0;s<c.length;s++){if("break"===function(n){if(c[n].score===o)e.find(function(e){return e.name===c[n].name}).chances[r]+=(t-i)/a;else{if(!(n<t))return"break";e.find(function(e){return e.name===c[n].name}).chances[r]++}}(s))break}}(l)}(o);for(var a=0,c=e;a<c.length;a++){var s=c[a];s.chances=s.chances.map(function(n){return Math.round(100*n/r)})}e.sort(function(n,e){for(var r=0;r<n.chances.length;r++){if(e.chances[r]>n.chances[r])return 1;if(e.chances[r]<n.chances[r])return-1}return e.score>n.score?1:e.score<n.score?-1:e.matchCountLeft-n.matchCountLeft})}function o(n,e){for(var r=0,t=n.matches;r<t.length;r++){var o=t[r];!function(n){if(1===n.possibilities.length){var r=n.possibilities[0];0!==r.a&&(e.find(function(e){return e.name===n.a}).score+=r.a),0!==r.b&&(e.find(function(e){return e.name===n.b}).score+=r.b)}else if(n.possibilities.length>1){var t=e.find(function(e){return e.name===n.a});t.matchCountLeft++,t.score+=n.possibilities.reduce(function(n,e){return Math.min(e.a,n)},1/0);var o=e.find(function(e){return e.name===n.b});o.matchCountLeft++,o.score+=n.possibilities.reduce(function(n,e){return Math.min(e.b,n)},1/0)}}(o)}e.sort(function(n,e){return e.score>n.score?1:e.score<n.score?-1:e.matchCountLeft-n.matchCountLeft})}function i(n){var e=n-Date.now(),r=Math.round(Math.abs(e)/1e3);if(r<45)return"in a few seconds";var t=Math.round(r/60);if(t<=1)return"in 1 minute";if(t<60)return"in "+t+" minutes";var o=Math.round(t/60);if(o<=1)return"in 1 hour";if(o<24)return"in "+o+" hours";var i=Math.round(o/24);if(i<=1)return"in 1 day";if(i<30)return"in "+i+" days";var a=Math.round(i/30);if(a<=1)return"in 1 month";if(a<12)return"in "+a+" months";var c=Math.round(i/365);return c<=1?"in 1 year":"in "+c+" years"}onmessage=function(n){for(var e=n.data,r=[],i=0,a=e;i<a.length;i++){var c=a[i];!function(n){var e=n.teams.map(function(e){return{name:e,chances:n.tops.map(function(n){return 0}),score:0,matchCountLeft:0}});o(n,e),r.push({tops:n.tops,chances:e})}(c)}postMessage(r,void 0);for(var s=0;s<e.length;s++)t(e[s],r[s].chances);postMessage(r,void 0)}}]);