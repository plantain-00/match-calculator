!function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";function r(n,e){for(var t=n.matches.reduce(function(n,e){return n*e.possibilities.length},1),r=0;r<t;r++)!function(r){r%1e5==0&&console.log(r+" / "+t);for(var o=n.teams.map(function(n){return{name:n,score:0}}),c=r,i=0,s=n.matches;i<s.length;i++){var a=s[i];!function(n){var e=n.possibilities[c%n.possibilities.length];0!==e.a&&(o.find(function(e){return e.name===n.a}).score+=e.a),0!==e.b&&(o.find(function(e){return e.name===n.b}).score+=e.b),c=Math.round(c/n.possibilities.length)}(a)}o.sort(function(n,e){return e.score-n.score});for(var u=0;u<n.tops.length;u++)!function(t){for(var r=n.tops[t],c=o[r-1].score,i=o.findIndex(function(n){return n.score===c}),s=o.filter(function(n){return n.score===c}).length,a=0;a<o.length;a++){if("break"===function(n){if(o[n].score===c)e.find(function(e){return e.name===o[n].name}).chances[t]+=(r-i)/s;else{if(!(n<r))return"break";e.find(function(e){return e.name===o[n].name}).chances[t]++}}(a))break}}(u)}(r);for(var o=0,c=e;o<c.length;o++){var i=c[o];i.chances=i.chances.map(function(n){return Math.round(100*n/t)})}e.sort(function(n,e){for(var t=0;t<n.chances.length;t++){if(e.chances[t]>n.chances[t])return 1;if(e.chances[t]<n.chances[t])return-1}return e.score>n.score?1:e.score<n.score?-1:e.matchCountLeft-n.matchCountLeft})}function o(n,e){for(var t=0,r=n.matches;t<r.length;t++){var o=r[t];!function(n){if(1===n.possibilities.length){var t=n.possibilities[0];0!==t.a&&(e.find(function(e){return e.name===n.a}).score+=t.a),0!==t.b&&(e.find(function(e){return e.name===n.b}).score+=t.b)}else if(n.possibilities.length>1){var r=e.find(function(e){return e.name===n.a});r.matchCountLeft++,r.score+=n.possibilities.reduce(function(n,e){return Math.min(e.a,n)},1/0);var o=e.find(function(e){return e.name===n.b});o.matchCountLeft++,o.score+=n.possibilities.reduce(function(n,e){return Math.min(e.b,n)},1/0)}}(o)}e.sort(function(n,e){return e.score>n.score?1:e.score<n.score?-1:e.matchCountLeft-n.matchCountLeft})}onmessage=function(n){for(var e=n.data,t=[],c=0,i=e;c<i.length;c++){var s=i[c];!function(n){var e=n.teams.map(function(e){return{name:e,chances:n.tops.map(function(n){return 0}),score:0,matchCountLeft:0}});o(n,e),t.push({tops:n.tops,chances:e})}(s)}postMessage(t,void 0);for(var a=0;a<e.length;a++)r(e[a],t[a].chances);postMessage(t,void 0)}}]);