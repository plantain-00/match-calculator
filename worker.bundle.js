!function(n){function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,r){"use strict";function t(n,e){for(var r=n.matches.reduce(function(n,e){return n*e.possibilities.length},1),t=Date.now(),o=0;o<r;o++)!function(o){if(o%1e5==0)if(o>0){var s=i((Date.now()-t)*r/o),a={type:"progress",progress:o+" / "+r+", will be done "+s};postMessage(a,void 0)}else{var a={type:"progress",progress:o+" / "+r};postMessage(a,void 0)}for(var u=n.teams.map(function(n){return{name:n,score:0}}),c=o,f=0,h=n.matches;f<h.length;f++){var l=h[f];!function(n){var e=n.possibilities[c%n.possibilities.length];0!==e.a&&(u.find(function(e){return e.name===n.a}).score+=e.a),0!==e.b&&(u.find(function(e){return e.name===n.b}).score+=e.b),c=Math.round(c/n.possibilities.length)}(l)}u.sort(function(n,e){return e.score-n.score});for(var p=0;p<n.tops.length;p++)!function(r){for(var t=n.tops[r],o=u[t-1].score,i=u.findIndex(function(n){return n.score===o}),s=u.filter(function(n){return n.score===o}).length,a=0;a<u.length;a++){if("break"===function(n){if(u[n].score===o)e.find(function(e){return e.name===u[n].name}).chances[r]+=(t-i)/s;else{if(!(n<t))return"break";e.find(function(e){return e.name===u[n].name}).chances[r]++}}(a))break}}(p)}(o);for(var s=0,a=e;s<a.length;s++){var u=a[s];u.chances=u.chances.map(function(n){return Math.round(100*n/r)})}e.sort(function(n,e){for(var r=0;r<n.chances.length;r++){if(e.chances[r]>n.chances[r])return 1;if(e.chances[r]<n.chances[r])return-1}return e.score>n.score?1:e.score<n.score?-1:e.matchCountLeft-n.matchCountLeft})}function o(n,e){for(var r=0,t=n.matches;r<t.length;r++){var o=t[r];!function(n){if(1===n.possibilities.length){var r=n.possibilities[0];0!==r.a&&(e.find(function(e){return e.name===n.a}).score+=r.a),0!==r.b&&(e.find(function(e){return e.name===n.b}).score+=r.b)}else if(n.possibilities.length>1){var t=e.find(function(e){return e.name===n.a});t.matchCountLeft++,t.score+=n.possibilities.reduce(function(n,e){return Math.min(e.a,n)},1/0);var o=e.find(function(e){return e.name===n.b});o.matchCountLeft++,o.score+=n.possibilities.reduce(function(n,e){return Math.min(e.b,n)},1/0)}}(o)}e.sort(function(n,e){return e.score>n.score?1:e.score<n.score?-1:e.matchCountLeft-n.matchCountLeft})}function i(n){var e=Math.round(Math.abs(n)/1e3);if(e<45)return"in a few seconds";var r=Math.round(e/60);if(r<=1)return"in 1 minute";if(r<60)return"in "+r+" minutes";var t=Math.round(r/60);if(t<=1)return"in 1 hour";if(t<24)return"in "+t+" hours";var o=Math.round(t/24);if(o<=1)return"in 1 day";if(o<30)return"in "+o+" days";var i=Math.round(o/30);if(i<=1)return"in 1 month";if(i<12)return"in "+i+" months";var s=Math.round(o/365);return s<=1?"in 1 year":"in "+s+" years"}onmessage=function(n){for(var e=n.data,r=[],i=0,s=e;i<s.length;i++){var a=s[i];!function(n){var e=n.teams.map(function(e){return{name:e,chances:n.tops.map(function(n){return 0}),score:0,matchCountLeft:0}});o(n,e),r.push({tops:n.tops,chances:e})}(a)}var u={type:"initial-result",result:r};postMessage(u,void 0);for(var c=0;c<e.length;c++)t(e[c],r[c].chances);var f={type:"final-result",result:r};postMessage(f,void 0)}}]);