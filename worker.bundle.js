!function(n){var r={};function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:t})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=0)}([function(n,r,e){"use strict";e.r(r);Object.setPrototypeOf||Array;Object.assign;function t(n){var r="function"==typeof Symbol&&n[Symbol.iterator],e=0;return r?r.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}function o(n,r){for(var e,o,i=n.matches.reduce(function(n,r){return n*r.possibilities.length},1),a=Date.now(),u=function(e){if(e%1e5==0)if(e>0){var o=function(n){var r=Math.round(Math.abs(n)/1e3);if(r<45)return"in a few seconds";var e=Math.round(r/60);if(e<=1)return"in 1 minute";if(e<60)return"in "+e+" minutes";var t=Math.round(e/60);if(t<=1)return"in 1 hour";if(t<24)return"in "+t+" hours";var o=Math.round(t/24);if(o<=1)return"in 1 day";if(o<30)return"in "+o+" days";var i=Math.round(o/30);if(i<=1)return"in 1 month";if(i<12)return"in "+i+" months";var a=Math.round(o/365);if(a<=1)return"in 1 year";return"in "+a+" years"}((Date.now()-a)*i/e),u={type:"progress",progress:e+" / "+i+", will be done "+o};postMessage(u,void 0)}else{u={type:"progress",progress:e+" / "+i};postMessage(u,void 0)}var s=n.teams.map(function(n){return{name:n,score:0}}),c=e,f=function(n){var r=n.possibilities[c%n.possibilities.length];0!==r.a&&(s.find(function(r){return r.name===n.a}).score+=r.a),0!==r.b&&(s.find(function(r){return r.name===n.b}).score+=r.b),c=Math.round(c/n.possibilities.length)};try{for(var l=t(n.matches),h=l.next();!h.done;h=l.next()){f(h.value)}}catch(n){d={error:n}}finally{try{h&&!h.done&&(p=l.return)&&p.call(l)}finally{if(d)throw d.error}}s.sort(function(n,r){return r.score-n.score});for(var d,p,v=function(e){for(var t=n.tops[e],o=s[t-1].score,i=s.findIndex(function(n){return n.score===o}),a=s.filter(function(n){return n.score===o}).length,u=function(n){if(s[n].score===o)r.find(function(r){return r.name===s[n].name}).chances[e]+=(t-i)/a;else{if(!(n<t))return"break";r.find(function(r){return r.name===s[n].name}).chances[e]++}},c=0;c<s.length;c++){if("break"===u(c))break}},m=0;m<n.tops.length;m++)v(m)},s=0;s<i;s++)u(s);try{for(var c=t(r),f=c.next();!f.done;f=c.next()){var l=f.value;l.chances=l.chances.map(function(n){return Math.round(100*n/i)})}}catch(n){e={error:n}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}r.sort(function(n,r){for(var e=0;e<n.chances.length;e++){if(r.chances[e]>n.chances[e])return 1;if(r.chances[e]<n.chances[e])return-1}return r.score>n.score?1:r.score<n.score?-1:r.matchCountLeft-n.matchCountLeft})}onmessage=function(n){var r,e,i=n.data,a=[],u=function(n){var r=n.teams.map(function(r){return{name:r,chances:n.tops.map(function(n){return 0}),score:0,matchCountLeft:0}});!function(n,r){var e,o,i=function(n){if(1===n.possibilities.length){var e=n.possibilities[0];0!==e.a&&(r.find(function(r){return r.name===n.a}).score+=e.a),0!==e.b&&(r.find(function(r){return r.name===n.b}).score+=e.b)}else if(n.possibilities.length>1){var t=r.find(function(r){return r.name===n.a});t.matchCountLeft++,t.score+=n.possibilities.reduce(function(n,r){return Math.min(r.a,n)},1/0);var o=r.find(function(r){return r.name===n.b});o.matchCountLeft++,o.score+=n.possibilities.reduce(function(n,r){return Math.min(r.b,n)},1/0)}};try{for(var a=t(n.matches),u=a.next();!u.done;u=a.next())i(u.value)}catch(n){e={error:n}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(e)throw e.error}}r.sort(function(n,r){return r.score>n.score?1:r.score<n.score?-1:r.matchCountLeft-n.matchCountLeft})}(n,r),a.push({tops:n.tops,chances:r})};try{for(var s=t(i),c=s.next();!c.done;c=s.next()){u(c.value)}}catch(n){r={error:n}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}postMessage({type:"initial-result",result:a},void 0);for(var f=0;f<i.length;f++)o(i[f],a[f].chances);postMessage({type:"final-result",result:a},void 0)}}]);